import{defaults}from"./defaults.js";import{extendParams}from"../commonFunctions/index.js";class Form{constructor(e,t={}){var r=this;r.form="object"==typeof e?e:document.querySelector(e),r.extendedParams=extendParams(defaults,t),r.eventHandlers=new Map}addListener(e,t,r,s){return this.eventHandlers.set(s,r),t.addEventListener(e,r),this}removeListener(e,t,r){var s=this;return t.removeEventListener(e,s.eventHandlers.get(r)),s.eventHandlers.delete(r),s}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListenerOnField(e,t,r){var s=this.getListenerType(e.type);"fieldset"!==e.type&&this.addListener(s,e,t,r)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}use(e){var t=this;for(const s of Object.keys(e)){var r=s.toLowerCase();Object.prototype.hasOwnProperty.call(t.extendedParams,r)?t[r]=new e[s](t,t.extendedParams[r]):t[r]=new e[s](t)}}}export{Form};